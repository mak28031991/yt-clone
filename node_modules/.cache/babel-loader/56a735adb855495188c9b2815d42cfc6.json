{"ast":null,"code":"import firebase from \"firebase/app\";\nimport auth from \"../../firebase\";\nimport { LOAD_PROFILE, LOGIN_FAIL, LOGIN_REQUEST, LOGIN_SUCCESS } from \"../actionType\";\nexport const login = () => async dispatch => {\n  try {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    const provider = new firebase.auth.GoogleAuthProvider();\n    const res = await auth.signInWithPopup(provider);\n    console.log(res);\n    const accessToken = res.credential.accessToken;\n    const profile = {\n      name: res.additionalUserInfo.profile.displayName,\n      photoURL: res.additionalUserInfo.profile.photoURL\n    };\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: accessToken\n    });\n    dispatch({\n      type: LOAD_PROFILE,\n      payload: profile\n    });\n  } catch (error) {\n    console.log(error.message);\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error.message\n    });\n  }\n};","map":{"version":3,"sources":["/home/eshan/Desktop/newfolder/yt-clone/src/redux/actions/auth.action.js"],"names":["firebase","auth","LOAD_PROFILE","LOGIN_FAIL","LOGIN_REQUEST","LOGIN_SUCCESS","login","dispatch","type","provider","GoogleAuthProvider","res","signInWithPopup","console","log","accessToken","credential","profile","name","additionalUserInfo","displayName","photoURL","payload","error","message"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AAEA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,SACEC,YADF,EAEEC,UAFF,EAGEC,aAHF,EAIEC,aAJF,QAKO,eALP;AAOA,OAAO,MAAMC,KAAK,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAC7C,MAAI;AACFA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEJ;AADC,KAAD,CAAR;AAGA,UAAMK,QAAQ,GAAG,IAAIT,QAAQ,CAACC,IAAT,CAAcS,kBAAlB,EAAjB;AAEA,UAAMC,GAAG,GAAG,MAAMV,IAAI,CAACW,eAAL,CAAqBH,QAArB,CAAlB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AAEA,UAAMI,WAAW,GAAGJ,GAAG,CAACK,UAAJ,CAAeD,WAAnC;AAEA,UAAME,OAAO,GAAG;AACdC,MAAAA,IAAI,EAAEP,GAAG,CAACQ,kBAAJ,CAAuBF,OAAvB,CAA+BG,WADvB;AAEdC,MAAAA,QAAQ,EAAEV,GAAG,CAACQ,kBAAJ,CAAuBF,OAAvB,CAA+BI;AAF3B,KAAhB;AAKAd,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEH,aADC;AAEPiB,MAAAA,OAAO,EAAEP;AAFF,KAAD,CAAR;AAKAR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEN,YADC;AAEPoB,MAAAA,OAAO,EAAEL;AAFF,KAAD,CAAR;AAID,GAzBD,CAyBE,OAAOM,KAAP,EAAc;AACdV,IAAAA,OAAO,CAACC,GAAR,CAAYS,KAAK,CAACC,OAAlB;AAEAjB,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEL,UADC;AAEPmB,MAAAA,OAAO,EAAEC,KAAK,CAACC;AAFR,KAAD,CAAR;AAID;AACF,CAlCM","sourcesContent":["import firebase from \"firebase/app\";\n\nimport auth from \"../../firebase\";\nimport {\n  LOAD_PROFILE,\n  LOGIN_FAIL,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n} from \"../actionType\";\n\nexport const login = () => async (dispatch) => {\n  try {\n    dispatch({\n      type: LOGIN_REQUEST,\n    });\n    const provider = new firebase.auth.GoogleAuthProvider();\n\n    const res = await auth.signInWithPopup(provider);\n    console.log(res);\n\n    const accessToken = res.credential.accessToken;\n\n    const profile = {\n      name: res.additionalUserInfo.profile.displayName,\n      photoURL: res.additionalUserInfo.profile.photoURL,\n    };\n\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: accessToken,\n    });\n\n    dispatch({\n      type: LOAD_PROFILE,\n      payload: profile,\n    });\n  } catch (error) {\n    console.log(error.message);\n\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error.message,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}